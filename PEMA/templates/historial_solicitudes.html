{% extends 'base.html' %}

{% load static %}

{% block content %}
<head>
    <title>Historial de Solicitudes</title>
</head>
<body>
    <div class="container mt-5 order-details-container">
        <h4 class="text-center">Historial de Solicitudes</h4>
        <br/>
        <h4>Ordenes aprobadas</h4>
        <hr class="hr"/>
        {% if solicitudes_aprobadas %}
            <table class="table table-responsive table-bordered table-striped mx-auto mt-4" style="max-width: 400px;">
                <tbody>
                    {% for solicitud in solicitudes_aprobadas %}
                      <thead>
                        <tr>
                          <td><button class="btn btn-success btn-lg btn-block">Orden #{{forloop.counter}}</button></td>
                        </tr>
                      </thead>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No tienes solicitudes.</p>
        {% endif %}
        

        <h4>Ordenes pendientes en aprobaci√≥n</h4>
        <hr class="hr"/>
        {% if solicitudes_pendientes_ap %}
            <table class="table table-responsive table-bordered table-striped mt-4" style="max-width: 400px;">
                {% for solicitud in solicitudes_pendientes_ap %}
                    <tbody>
                    <tr>
                        <td>
                            <a href="{% url 'detalles_orden' %}" class="btn btn-success btn-lg btn-block" style="background-color:#00723F; font-size: 20px">Orden #{{ forloop.counter }}</a>
                        </td>
                    </tr>
                    </tbody>
                {% endfor %}
            </table>
        {% else %}
            <p>No tienes solicitudes.</p>
        {% endif %}

        <h4>Ordenes pendientes por corresponsables</h4>
        <hr class="hr"/>
        {% if solicitudes_pendientes_cr %}
            <table class="table table-responsive table-bordered table-striped mt-4" style="max-width: 400px;">
                {% for solicitud in solicitudes_pendientes_cr %}
                    <tbody>
                    <tr>
                        <td>
                            <a href="{% url 'detalles_orden' %}" class="btn btn-success btn-lg btn-block" style="background-color:#00723F; font-size: 20px">Orden #{{ forloop.counter }}</a>
                        </td>
                    </tr>
                    </tbody>
                {% endfor %}
            </table>
        {% else %}
            <p>No tienes solicitudes.</p>
        {% endif %}

        <h4>Ordenes rechazadas</h4>
        <hr class="hr"/>
        {% if solicitudes_rechazadas %}
            <table class="table table-responsive table-bordered table-striped mt-4" style="max-width: 400px;">
                {% for solicitud in solicitudes_rechazadas %}
                    <tbody>
                    <tr>
                        <td>
                            <a href="{% url 'detalles_orden' %}" class="btn btn-success btn-lg btn-block" style="background-color:#00723F; font-size: 20px">Orden #{{ forloop.counter }}</a>
                        </td>
                    </tr>
                    </tbody>
                {% endfor %}
            </table>
        {% else %}
            <p>No tienes solicitudes.</p>
        {% endif %}

        <h4>Ordenes canceladas</h4>
        <hr class="hr"/>
        {% if solicitudes_canceladas %}
            <table class="table table-responsive table-bordered table-striped mt-4" style="max-width: 400px;">
                {% for solicitud in solicitudes_canceladas %}
                    <tbody>
                    <tr>
                        <td>
                            <a href="{% url 'detalles_orden' %}" class="btn btn-success btn-lg btn-block" style="background-color:#00723F; font-size: 20px">Orden #{{ forloop.counter }}</a>
                        </td>
                    </tr>
                    </tbody>
                {% endfor %}
            </table>
        {% else %}
            <p>No tienes solicitudes.</p>
        {% endif %}

        <div class="text-center mt-4">
            <a href="menu" class="btn btn-secondary">Regresar</a>
        </div>
    </div>
</body>

{% endblock %}

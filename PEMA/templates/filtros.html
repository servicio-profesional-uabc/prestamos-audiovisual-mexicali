{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block content %}

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <title>Vista de prueba</title>
    </head>


    <div class="text-center mt-5">
        <h4>Filtro para el catálogo de equipo</h4><br/>
        <p>Para continuar al catálogo es necesario que captures los siguientes datos.
            <br/>Esto sirve para mostrar el equipo del catálogo que está disponible.</p>
    </div>
    <hr class="hr"/>


    <div class="container text-center mt-3 justify-content-center">
        <form method="POST" action="{% url 'filtros' %}">
            {% csrf_token %}

            {% if form.errors %}
                <div class="errors">
                    <ul>
                        {% for field, error_list in form.errors.items %}
                            {% for error in error_list %}
                                <li>{{ field }}: {{ error }}</li>
                            {% endfor %}
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            <h5 class="mt-2">Seleccionar materia y duración del préstamo</h5>
            <div class="row mb-4 mt-2">
                <div class="col me-3">
                    {% render_field form.materia class="form-select" %}
                </div>
                <div class="col">
                    {% render_field form.duracion class="form-select" %}
                </div>
            </div>

            <div class="row mb-5">
                <h5>Selecciona la hora</h5>
                {% render_field form.hora_inicio class="form-select" %}
            </div>

        <div class="row mb-4 mt-2">
            <h5>Selecciona la fecha</h5>
            {% render_field form.inicio type="date" class="form-control" placeholder="selecciona una fecha de inicio" %}
        </div>

            <div class="row">
                <div class="col text-center">
                    <a href="menu" class="btn btn-secondary me-5">Regresar</a>
                    <button id="boton_aceptar" type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#modalContinuar">Aceptar filtro
                    </button>

                    <div class="modal fade" id="modalContinuar" tabindex="-1" aria-labelledby="continuarModalLabel"
                         aria-hidden="true">
                        <div class="modal-dialog ">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="continuarModalLabel">Confirmar filtro</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                </div>

                                <div class="modal-body">
                                    ¿Desea continuar al catálogo?
                                </div>

                                <div class="modal-footer">
                                    {#                                <input type="hidden" id="time-input" name="time">#}
                                    {#                                <input type="hidden" id="materia-input" name="materia">#}
                                    <button type="submit" class="btn btn-danger">Continuar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>

        {#    <script>#}
        {#        function setTime(time) {#}
        {#            document.getElementById("time-input").value = time;#}
        {#        }#}
        {##}
        {#        function setMateria() {#}
        {#            var selectedMateria = document.getElementById("materia").value;#}
        {#            document.getElementById("materia-input").value = selectedMateria;#}
        {#        }#}
        {#    </script>#}
    </div>
{% endblock %}
